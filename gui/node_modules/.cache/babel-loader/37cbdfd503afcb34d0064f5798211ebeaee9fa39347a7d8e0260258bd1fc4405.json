{"ast":null,"code":"import * as React from 'react';\nimport { useTexture } from './Texture.js';\nimport { suspend } from 'suspend-react';\nfunction getFormatString(format) {\n  switch (format) {\n    case 64:\n      return '-64px';\n    case 128:\n      return '-128px';\n    case 256:\n      return '-256px';\n    case 512:\n      return '-512px';\n    default:\n      return '';\n  }\n}\nconst LIST_URL = 'https://cdn.jsdelivr.net/gh/pmndrs/drei-assets@master/matcaps.json';\nconst MATCAP_ROOT = 'https://rawcdn.githack.com/emmelleppi/matcaps/9b36ccaaf0a24881a39062d05566c9e92be4aa0d';\nfunction useMatcapTexture() {\n  let id = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n  let format = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1024;\n  let onLoad = arguments.length > 2 ? arguments[2] : undefined;\n  const matcapList = suspend(() => fetch(LIST_URL).then(res => res.json()), ['matcapList']);\n  const DEFAULT_MATCAP = matcapList[0];\n  const numTot = React.useMemo(() => Object.keys(matcapList).length, []);\n  const fileHash = React.useMemo(() => {\n    if (typeof id === 'string') {\n      return id;\n    } else if (typeof id === 'number') {\n      return matcapList[id];\n    }\n    return null;\n  }, [id]);\n  const fileName = \"\".concat(fileHash || DEFAULT_MATCAP).concat(getFormatString(format), \".png\");\n  const url = \"\".concat(MATCAP_ROOT, \"/\").concat(format, \"/\").concat(fileName);\n  const matcapTexture = useTexture(url, onLoad);\n  return [matcapTexture, url, numTot];\n}\n\n//\n\nconst MatcapTexture = _ref => {\n  let {\n    children,\n    id,\n    format,\n    onLoad\n  } = _ref;\n  const texture = useMatcapTexture(id, format, onLoad);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, children == null ? void 0 : children(texture));\n};\nexport { MatcapTexture, useMatcapTexture };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}