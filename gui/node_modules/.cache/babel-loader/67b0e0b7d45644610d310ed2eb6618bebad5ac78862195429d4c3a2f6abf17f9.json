{"ast":null,"code":"import{useEffect,useState,useRef}from\"react\";import{nanoid}from\"nanoid\";import OutputNode from\"./outputNode\";import InputNode from\"./inputNode\";import PatchCable from\"./patchCable\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Patchbay=()=>{const svgRef=useRef(null);const[patchCables,setPatchCables]=useState([]);const outs=8;const ins=8;const createPatchCable=startPt=>{setPatchCables(prevCables=>[...prevCables,{id:nanoid(),startPt}]);console.log(patchCables);};const removePatchCable=id=>{console.log(\"removing patch cable at: \"+id);console.log(patchCables);//remove patch cable at id\nsetPatchCables(prevCables=>prevCables.filter(cable=>cable.id!==id));// console.log(patchCables.filter((cable, i) => i !== id));\n// setPatchCables((prevCables) => prevCables.filter((cable, i) => i !== id));\n// console.log(patchCables);\n};return/*#__PURE__*/_jsx(\"div\",{className:\"h-[240px] w-[500px] bg-slate-300\",children:/*#__PURE__*/_jsxs(\"svg\",{viewBox:\"0 0 500 240\",children:[patchCables.map(cable=>/*#__PURE__*/_jsx(PatchCable,{id:cable.id,startPt:cable.startPt,handleRemovePatchCable:removePatchCable,onMouseDown:()=>console.log(\"hovering over cable\")},\"cable-\".concat(cable.id))),[...Array(ins)].map((node,i)=>/*#__PURE__*/_jsx(InputNode,{i:i},\"input-\".concat(i))),[...Array(outs)].map((node,i)=>/*#__PURE__*/_jsx(OutputNode,{i:i,handleCreatePatchCable:createPatchCable},\"output-\".concat(i)))]})});};export default Patchbay;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}