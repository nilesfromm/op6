{"ast":null,"code":"var _jsxFileName = \"/Users/niles/Desktop/Github/cmaj/firstProj/gui/src/View.jsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useState, useRef } from \"react\";\nimport { SpectrumAnalyzer } from \"./SpectrumAnalyzer\";\nimport \"./index.css\";\n\n// const SAMPLE_RATE = 44100;\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst UI = ({\n  amps,\n  freqs,\n  handleSliderChange\n}) => {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"ui\",\n    children: amps.map((amp, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: \"relative\",\n        backgroundColor: \"coral\",\n        left: `${i / amps.length * 76.8 + 21.75}%`\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"freq-slider\",\n        type: \"range\",\n        value: amp,\n        min: 0.0,\n        max: 1.0,\n        step: 0.001,\n        onChange: e => handleSliderChange(\"amp\", i, e.target.value),\n        onDoubleClick: () => {\n          handleSliderChange(\"amp\", i, 1.0);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 19,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"pan-slider\",\n        type: \"range\",\n        min: -1.0,\n        max: 1.0,\n        step: 0.001,\n        value: freqs[i],\n        onChange: e => handleSliderChange(\"pan\", i, e.target.value),\n        onDoubleClick: () => {\n          handleSliderChange(\"pan\", i, 0.0);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 11\n      }, this)]\n    }, i, true, {\n      fileName: _jsxFileName,\n      lineNumber: 11,\n      columnNumber: 9\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 9,\n    columnNumber: 5\n  }, this);\n};\n_c = UI;\nexport default function View({\n  patchConnection\n}) {\n  _s();\n  const [stateLoaded, setStateLoaded] = useState(false);\n  const [freqs, setFreqs] = useState(Array(8).fill(0.0));\n  const [amps, setAmps] = useState(Array(8).fill(0.0));\n  const updateValues = (type, index, value) => {\n    if (type === \"amp\") {\n      setAmps(prev => prev.map((amp, i) => i === index ? value : amp));\n    } else if (type === \"freq\") {\n      // setPans((prev) => prev.map((pan, i) => (i === index ? value : pan)));\n    }\n  };\n  const handleSliderChange = (type, index, value) => {\n    updateValues(type, index, value);\n    patchConnection === null || patchConnection === void 0 ? void 0 : patchConnection.sendEventOrValue(`osc${index}_${type}`, value, 100);\n  };\n\n  // useEffect(() => {\n  //   const requestParameterValues = (type) => {\n  //     for (let i = 0; i < FILTER_FREQS.length; i++) {\n  //       patchConnection?.requestParameterValue(`osc${index}_${type}`);\n  //     }\n  //   };\n\n  //   const handleControlChange = (event) => {\n  //     const id = event.endpointID;\n  //     const val = event.value;\n  //     const index = parseInt(id.slice(-1));\n  //     const type = id.slice(0, 3);\n\n  //     updateValues(type, index, val);\n  //   };\n\n  //   // Add listeners for DFT output and input controls\n  //   patchConnection?.addAllParameterListener(handleControlChange);\n\n  //   // Load initial state\n  //   if (!stateLoaded) {\n  //     requestParameterValues(\"amp\");\n  //     requestParameterValues(\"pan\");\n\n  //     setStateLoaded(true);\n  //   }\n\n  //   return () => {\n  //     patchConnection?.removeAllParameterListener(handleControlChange);\n  //   };\n  // }, [patchConnection, stateLoaded]);\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"stack\",\n      children: /*#__PURE__*/_jsxDEV(UI, {\n        amps: amps,\n        freqs: freqs,\n        handleSliderChange: handleSliderChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 100,\n    columnNumber: 5\n  }, this);\n}\n_s(View, \"WRmJ65szaVaSsdOwvlpRO3g7VJY=\");\n_c2 = View;\nvar _c, _c2;\n$RefreshReg$(_c, \"UI\");\n$RefreshReg$(_c2, \"View\");","map":{"version":3,"names":["useEffect","useState","useRef","SpectrumAnalyzer","jsxDEV","_jsxDEV","UI","amps","freqs","handleSliderChange","className","children","map","amp","i","style","position","backgroundColor","left","length","type","value","min","max","step","onChange","e","target","onDoubleClick","fileName","_jsxFileName","lineNumber","columnNumber","_c","View","patchConnection","_s","stateLoaded","setStateLoaded","setFreqs","Array","fill","setAmps","updateValues","index","prev","sendEventOrValue","_c2","$RefreshReg$"],"sources":["/Users/niles/Desktop/Github/cmaj/firstProj/gui/src/View.jsx"],"sourcesContent":["import { useEffect, useState, useRef } from \"react\";\nimport { SpectrumAnalyzer } from \"./SpectrumAnalyzer\";\nimport \"./index.css\";\n\n// const SAMPLE_RATE = 44100;\n\nconst UI = ({ amps, freqs, handleSliderChange }) => {\n  return (\n    <div className=\"ui\">\n      {amps.map((amp, i) => (\n        <div\n          key={i}\n          style={{\n            position: \"relative\",\n            backgroundColor: \"coral\",\n            left: `${(i / amps.length) * 76.8 + 21.75}%`,\n          }}\n        >\n          <input\n            className=\"freq-slider\"\n            type=\"range\"\n            value={amp}\n            min={0.0}\n            max={1.0}\n            step={0.001}\n            onChange={(e) => handleSliderChange(\"amp\", i, e.target.value)}\n            onDoubleClick={() => {\n              handleSliderChange(\"amp\", i, 1.0);\n            }}\n          />\n          <input\n            className=\"pan-slider\"\n            type=\"range\"\n            min={-1.0}\n            max={1.0}\n            step={0.001}\n            value={freqs[i]}\n            onChange={(e) => handleSliderChange(\"pan\", i, e.target.value)}\n            onDoubleClick={() => {\n              handleSliderChange(\"pan\", i, 0.0);\n            }}\n          />\n        </div>\n      ))}\n    </div>\n  );\n};\n\nexport default function View({ patchConnection }) {\n  const [stateLoaded, setStateLoaded] = useState(false);\n  const [freqs, setFreqs] = useState(Array(8).fill(0.0));\n  const [amps, setAmps] = useState(Array(8).fill(0.0));\n\n  const updateValues = (type, index, value) => {\n    if (type === \"amp\") {\n      setAmps((prev) => prev.map((amp, i) => (i === index ? value : amp)));\n    } else if (type === \"freq\") {\n      // setPans((prev) => prev.map((pan, i) => (i === index ? value : pan)));\n    }\n  };\n\n  const handleSliderChange = (type, index, value) => {\n    updateValues(type, index, value);\n    patchConnection?.sendEventOrValue(`osc${index}_${type}`, value, 100);\n  };\n\n  // useEffect(() => {\n  //   const requestParameterValues = (type) => {\n  //     for (let i = 0; i < FILTER_FREQS.length; i++) {\n  //       patchConnection?.requestParameterValue(`osc${index}_${type}`);\n  //     }\n  //   };\n\n  //   const handleControlChange = (event) => {\n  //     const id = event.endpointID;\n  //     const val = event.value;\n  //     const index = parseInt(id.slice(-1));\n  //     const type = id.slice(0, 3);\n\n  //     updateValues(type, index, val);\n  //   };\n\n  //   // Add listeners for DFT output and input controls\n  //   patchConnection?.addAllParameterListener(handleControlChange);\n\n  //   // Load initial state\n  //   if (!stateLoaded) {\n  //     requestParameterValues(\"amp\");\n  //     requestParameterValues(\"pan\");\n\n  //     setStateLoaded(true);\n  //   }\n\n  //   return () => {\n  //     patchConnection?.removeAllParameterListener(handleControlChange);\n  //   };\n  // }, [patchConnection, stateLoaded]);\n\n  return (\n    <div className=\"container\">\n      <div className=\"stack\">\n        <UI amps={amps} freqs={freqs} handleSliderChange={handleSliderChange} />\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}