{"ast":null,"code":"import{useEffect,useState,useRef}from\"react\";import{SpectrumAnalyzer}from\"./SpectrumAnalyzer\";import\"./index.css\";// const SAMPLE_RATE = 44100;\nimport{jsx as _jsx}from\"react/jsx-runtime\";const UI=_ref=>{let{amps,freqs,handleSliderChange}=_ref;return/*#__PURE__*/_jsx(\"div\",{className:\"ui\",children:amps.map((amp,i)=>/*#__PURE__*/_jsx(\"div\",{style:{position:\"relative\",backgroundColor:\"coral\",left:\"\".concat(i/amps.length*76.8+21.75,\"%\")}},i))});};export default function View(_ref2){let{patchConnection}=_ref2;const[stateLoaded,setStateLoaded]=useState(false);const[freqs,setFreqs]=useState(Array(8).fill(0.0));const[amps,setAmps]=useState(Array(8).fill(0.0));const updateValues=(type,index,value)=>{if(type===\"amp\"){setAmps(prev=>prev.map((amp,i)=>i===index?value:amp));}else if(type===\"freq\"){// setPans((prev) => prev.map((pan, i) => (i === index ? value : pan)));\n}};const handleSliderChange=(type,index,value)=>{updateValues(type,index,value);patchConnection===null||patchConnection===void 0?void 0:patchConnection.sendEventOrValue(\"osc\".concat(index,\"_\").concat(type),value,100);};// useEffect(() => {\n//   const requestParameterValues = (type) => {\n//     for (let i = 0; i < FILTER_FREQS.length; i++) {\n//       patchConnection?.requestParameterValue(`osc${index}_${type}`);\n//     }\n//   };\n//   const handleControlChange = (event) => {\n//     const id = event.endpointID;\n//     const val = event.value;\n//     const index = parseInt(id.slice(-1));\n//     const type = id.slice(0, 3);\n//     updateValues(type, index, val);\n//   };\n//   // Add listeners for DFT output and input controls\n//   patchConnection?.addAllParameterListener(handleControlChange);\n//   // Load initial state\n//   if (!stateLoaded) {\n//     requestParameterValues(\"amp\");\n//     requestParameterValues(\"pan\");\n//     setStateLoaded(true);\n//   }\n//   return () => {\n//     patchConnection?.removeAllParameterListener(handleControlChange);\n//   };\n// }, [patchConnection, stateLoaded]);\nreturn/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"stack\",children:/*#__PURE__*/_jsx(UI,{amps:amps,freqs:freqs,handleSliderChange:handleSliderChange})})});}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}